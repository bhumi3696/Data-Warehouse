product_colour$product_trend <- str_replace_all(product_colour$product_colour, ".item-heading .link", "tops")
product_colour$product_trend <- gsub(".item-heading .link", "tops", product_colour$product_colour)
product_colour$trend_top <- gsub(".item-heading .link", "tops", product_colour$product_colour)
product_colour$trend_top <- gsub(".item-heading .link", "tops", trend_top$trend_top)
product_trend$trend_top <- gsub(".item-heading .link", "tops", product_trend$product_trend)
x <- product_trend$trend_top <- gsub(".item-heading .link", "tops", product_trend$product_trend)
x
product_trend$trend_top <- gsub(".item-heading .link", "tops", product_trend$product_trend)
product_trend$trend_top
product_trend <- merge(data.frame(text = data.frame(product_colour, row.names=NULL)), urls = data.frame(trend_top, row.names=NULL), by = 0, all = TRUE))
product_trend <- data.frame(text = data.frame(product_colour, row.names=NULL)), urls = data.frame(trend_top, row.names=NULL), by = 0, all = TRUE))
text = data.frame(product_colour, row.names=NULL)
urls = data.frame(trend_top, row.names=NULL)
product_trend <- data.frame(text, url)
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)
View(product_trend)
product_trend$trend_top[product_trend$trend_top == product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")] <- 1
View(product_trend)
product_trend$trend_top[product_trend$trend_top == product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")] <- "tops"
View(product_trend)
product_trend$trend_top[product_trend$trend_top == ".item-heading .link"] <- "tops"
View(product_trend)
product_trend$trend_top[product_trend$trend_top == ".item-heading .link"] <- tops
trend_top <- print("tpps")
trend_top
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)
View(product_trend)
product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)
trend_top <- product_categoryTop %>%"topd"%>%html_text("")
trend_top <- product_categoryTop %>%print("topd")%>%html_text("")
trend_top <- product_categoryTop %>%html_nodes("tops")%>%html_text("")
trend_top
?dataframe
#product_categoryTop <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-concept/trend/tops.html?sort=stock&image-size=small&image=model&offset=0&page-size=164")
#trend_top <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text()
?dataframe
#product_categoryTop <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-concept/trend/tops.html?sort=stock&image-size=small&image=model&offset=0&page-size=164")
#trend_top <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text()
?data.frame
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names="tops"), by = 0, all = TRUE)
varnames <- data.frame(old = (trend_top, row.names=NULL), new = c("tops"))
varnames <- data.frame(old = trend_top, new = c("tops"))
varnames <- merge(data.frame(old = trend_top, new = c("tops")), by = 0, all = TRUE)
View(product_trend)
product_categoryTop <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-concept/trend.html?product-type=ladies_trend&sort=stock&image-size=small&image=model&offset=0&page-size=359")
trend_top <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")
product_trend <- merge(data.frame(product_colour, row.names=NULL), data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)
product_trend
View(product_trend)
product_table <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&image-size=small&image=model&offset=0&page-size=6863")
product_category <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_colour  <- product_table %>%html_nodes(".list-swatches")%>%html_text()
product_price <- product_table%>%html_nodes(".regular")%>%html_text()
product_arrival <- product_table%>%html_nodes(".new-product")%>%html_text()
product_categoryTop <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-concept/trend.html?product-type=ladies_trend&sort=stock&image-size=small&image=model&offset=0&page-size=359")
trend_top <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")
product_category
product_price
product_colour
product_arrival
product_details <- merge(data.frame(product_category,product_price,product_colour,trend_top , row.names=NULL), data.frame(product_arrival, row.names=NULL), by = 0, all = TRUE)[-1]
product_details
View(product_details)
product_details <- merge(data.frame(product_category,product_price,product_colour , row.names=NULL), data.frame(product_arrival,trend_top, row.names=NULL), by = 0, all = TRUE)[-1]
product_details <- merge(data.frame(product_category,product_price,product_colour, row.names=NULL), data.frame(product_arrival,trend_top, row.names=NULL), by = 0, all = TRUE)[-1]
product <- merge(data.frame(product_details, row.names=NULL),data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)[-1]
product <- merge(data.frame(product_details, row.names=NULL),data.frame(trend_top, row.names=NULL), by = 0, all = TRUE)[-1]
product
View(product)
View(product)
product_DiscountPrice <- read_html("https://www2.hm.com/en_ie/sale/ladies/viewall.html?sort=stock&image-size=small&image=stillLife&offset=0&page-size=4015")
product_category <- product_DiscountPrice %>%html_nodes(".item-heading .link")%>%html_text()
product_Discount <- product_DiscountPrice %>%html_nodes(".sale")%>%html_text("")
Product_RegularPrice <- product_DiscountPrice %>%html_nodes(".regular")%>%html_text("")
product_colour <- product_DiscountPrice %>%html_nodes(".list-swatches")%>%html_text("")
product_category
product_Discount
Product_price
product_colour
sales_product <- data.frame(product_category,product_Discount,Product_price,product_colour)
sales_product
product_DiscountPrice <- read_html("https://www2.hm.com/en_ie/sale/ladies/viewall.html?sort=stock&image-size=small&image=stillLife&offset=0&page-size=4015")
product_category <- product_DiscountPrice %>%html_nodes(".item-heading .link")%>%html_text()
product_Discount <- product_DiscountPrice %>%html_nodes(".sale")%>%html_text("")
Product_RegularPrice <- product_DiscountPrice %>%html_nodes(".regular")%>%html_text("")
product_colour <- product_DiscountPrice %>%html_nodes(".list-swatches")%>%html_text("")
product_category
product_Discount
Product_price
Product_RegularPrice
product_DiscountPrice <- read_html("https://www2.hm.com/en_ie/sale/ladies/viewall.html?sort=stock&image-size=small&image=stillLife&offset=0&page-size=4015")
product_category <- product_DiscountPrice %>%html_nodes(".item-heading .link")%>%html_text()
product_Discount <- product_DiscountPrice %>%html_nodes(".sale")%>%html_text("")
Product_RegularPrice <- product_DiscountPrice %>%html_nodes(".regular")%>%html_text("")
product_colour <- product_DiscountPrice %>%html_nodes(".list-swatches")%>%html_text("")
Product_category
Product_Discount
Product_RegularPrice
Product_colour
sales_product <- data.frame(product_category,Product_RegularPrice,product_Discount,product_colour)
sales_product
View(sales_product)
product_DiscountPrice <- read_html("https://www2.hm.com/en_ie/sale/ladies/viewall.html?sort=stock&image-size=small&image=stillLife&offset=0&page-size=4015")
product_category <- product_DiscountPrice %>%html_nodes(".item-heading .link")%>%html_text()
product_Discount <- product_DiscountPrice %>%html_nodes(".sale")%>%html_text("")
Product_RegularPrice <- product_DiscountPrice %>%html_nodes(".regular")%>%html_text("")
product_colour <- product_DiscountPrice %>%html_nodes(".list-swatches")%>%html_text("")
product_categoryTop <- read_html("https://www2.hm.com/en_ie/sale/ladies/trend.html?sort=stock&image-size=small&image=model&offset=0&page-size=369")
product_trend <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")
Product_category
Product_Discount
Product_RegularPrice
Product_colour
product_trend
sales_product <- data.frame(product_category,Product_RegularPrice,product_Discount,product_colour)
sale <- merge(data.frame(sales_product, row.names=NULL),data.frame(product_trend, row.names=NULL), by = 0, all = TRUE)[-1]
sales
product_categoryTop <- read_html("https://www2.hm.com/en_ie/sale/ladies/trend.html?sort=stock&image-size=small&image=model&offset=0&page-size=369")
product_trend <- product_categoryTop %>%html_nodes(".item-heading .link")%>%html_text("")
product_trend
sales_product <- data.frame(product_category,Product_RegularPrice,product_Discount,product_colour)
sale
View(sale)
product_DiscountPrice <- read_html("https://www2.hm.com/en_ie/sale/ladies/viewall.html?sort=stock&image-size=small&image=stillLife&offset=0&page-size=4015")
product_category <- product_DiscountPrice %>%html_nodes(".item-heading .link")%>%html_text()
product_Discount <- product_DiscountPrice %>%html_nodes(".sale")%>%html_text("")
Product_RegularPrice <- product_DiscountPrice %>%html_nodes(".regular")%>%html_text("")
product_colour <- product_DiscountPrice %>%html_nodes(".list-swatches")%>%html_text("")
Product_category
Product_Discount
Product_RegularPrice
Product_colour
sales_product <- data.frame(product_category,Product_RegularPrice,product_Discount,product_colour)
sales_product
product_category <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize2 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=7_2_1_womenswear&image-size=small&image=model&offset=0&page-size=282")
product_size2 <- product_tableSize2 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize4 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=11_4_1_womenswear&image-size=small&image=model&offset=0&page-size=282")
product_size4 <- product_tableSize4 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize6 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=15_6_1_womenswear&image-size=small&image=model&offset=0&page-size=3983")
product_size6 <- product_tableSize6 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize9 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=19_8_1_womenswear&image-size=small&image=model&offset=0&page-size=4128")
product_size9 <- product_tableSize9 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize10 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=23_10_1_womenswear&image-size=small&image=model&offset=0&page-size=4016")
product_size10 <- product_tableSize10 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize12 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=27_12_1_womenswear&image-size=small&image=model&offset=0&page-size=3790")
product_size12 <- product_tableSize12 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize14 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=30_14_1_womenswear&image-size=small&image=model&offset=0&page-size=3509")
product_size14 <- product_tableSize14 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize16 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=33_16_1_womenswear&image-size=small&image=model&offset=0&page-size=3421")
product_size16 <- product_tableSize16 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize18 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=35_18_1_womenswear&image-size=small&image=model&offset=0&page-size=3464")
product_size18 <- product_tableSize18 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize20 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=37_20_1_womenswear&image-size=small&image=model&offset=0&page-size=3440")
product_size20 <- product_tableSize20 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize22 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=39_22_1_womenswear&image-size=small&image=model&offset=0&page-size=2506")
product_size22 <- product_tableSize22 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize24 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=41_24_1_womenswear&image-size=small&image=model&offset=0&page-size=2556")
product_size24 <- product_tableSize24 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize26 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=43_26_1_womenswear&image-size=small&image=model&offset=0&page-size=287")
product_size26 <- product_tableSize26 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize28 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=45_28_1_womenswear&image-size=small&image=model&offset=0&page-size=288")
product_size28 <- product_tableSize28 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize30 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=47_30_1_womenswear&image-size=small&image=model&offset=0&page-size=196")
product_size30 <- product_tableSize30 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize32 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=49_32_1_womenswear&image-size=small&image=model&offset=0&page-size=125")
product_size32 <- product_tableSize32 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize34 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=51_34_1_womenswear&image-size=small&image=model&offset=0&page-size=77")
product_size34 <- product_tableSize34 %>%html_nodes(".item-heading .link")%>%html_text()
product_tableSize36 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=53_36_1_womenswear&image-size=small&image=model&offset=0&page-size=77")
product_size36 <- product_tableSize36 %>%html_nodes(".item-heading .link")%>%html_text()
product_category
product_size2
product_size4
product_size6
product_size8
product_size10
product_size12
product_size14
product_size16
product_size18
product_size20
product_size22
product_size24
product_size26
product_size28
product_size30
product_size32
product_size34
product_size <- data.frame(product_categoryproduct_size2,product_size4,product_size6,product_size8,product_size10,
product_size12,product_size14,product_size16,product_size18,product_size20,product_size22,product_size24,product_size26,product_size28,
product_size30,product_size32,product_size34)
product_size
product_size <- data.frame(product_categoryproduct_size2,product_size4,product_size6,product_size8,product_size10,
product_size12,product_size14,product_size16,product_size18,product_size20,product_size22,product_size24,product_size26,product_size28,
product_size30,product_size32,product_size34)
product_size <- data.frame(product_category,product_size2,product_size4,product_size6,product_size8,product_size10,
product_size12,product_size14,product_size16,product_size18,product_size20,product_size22,product_size24,product_size26,product_size28,
product_size30,product_size32,product_size34)
product_tableSize8 <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&sizes=19_8_1_womenswear&image-size=small&image=model&offset=0&page-size=4116")
product_size8 <- product_tableSize8 %>%html_nodes(".item-heading .link")%>%html_text()
product_size8
product_size <- data.frame(product_category,product_size2,product_size4,product_size6,product_size8,product_size10,
product_size12,product_size14,product_size16,product_size18,product_size20,product_size22,product_size24,product_size26,product_size28,
product_size30,product_size32,product_size34)
merge(data.frame(product_category, row.names=NULL), data.frame(product_size2, row.names=NULL), data.frame(product_size4, row.names=NULL), by = 0, all = TRUE)[-1]
size1 <- merge(data.frame(product_category, row.names=NULL), data.frame(product_size2, row.names=NULL), by = 0, all = TRUE)[-1]
size2 <- merge(data.frame(size1, row.names=NULL), data.frame(product_size4, row.names=NULL), by = 0, all = TRUE)[-1]
size3 <- merge(data.frame(size2, row.names=NULL), data.frame(product_size6, row.names=NULL), by = 0, all = TRUE)[-1]
size4 <- merge(data.frame(size3, row.names=NULL), data.frame(product_size8, row.names=NULL), by = 0, all = TRUE)[-1]
size5 <- merge(data.frame(size4, row.names=NULL), data.frame(product_size10, row.names=NULL), by = 0, all = TRUE)[-1]
size6 <- merge(data.frame(size5, row.names=NULL), data.frame(product_size12, row.names=NULL), by = 0, all = TRUE)[-1]
size7 <- merge(data.frame(size6, row.names=NULL), data.frame(product_size14, row.names=NULL), by = 0, all = TRUE)[-1]
size8 <- merge(data.frame(size7, row.names=NULL), data.frame(product_size16, row.names=NULL), by = 0, all = TRUE)[-1]
size9 <- merge(data.frame(size8, row.names=NULL), data.frame(product_size18, row.names=NULL), by = 0, all = TRUE)[-1]
size10 <- merge(data.frame(size9, row.names=NULL), data.frame(product_size20, row.names=NULL), by = 0, all = TRUE)[-1]
size11 <- merge(data.frame(size10, row.names=NULL), data.frame(product_size22, row.names=NULL), by = 0, all = TRUE)[-1]
size12 <- merge(data.frame(size11, row.names=NULL), data.frame(product_size24, row.names=NULL), by = 0, all = TRUE)[-1]
size13 <- merge(data.frame(size12, row.names=NULL), data.frame(product_size26, row.names=NULL), by = 0, all = TRUE)[-1]
size14 <- merge(data.frame(size13, row.names=NULL), data.frame(product_size28, row.names=NULL), by = 0, all = TRUE)[-1]
size15 <- merge(data.frame(size14, row.names=NULL), data.frame(product_size30, row.names=NULL), by = 0, all = TRUE)[-1]
size16 <- merge(data.frame(size15, row.names=NULL), data.frame(product_size32, row.names=NULL), by = 0, all = TRUE)[-1]
size17 <- merge(data.frame(size16, row.names=NULL), data.frame(product_size34, row.names=NULL), by = 0, all = TRUE)[-1]
product_size <- merge(data.frame(size17, row.names=NULL), data.frame(product_size36, row.names=NULL), by = 0, all = TRUE)[-1]
product_size
View(product_size)
install.packages("rvest")
install.packages("dplyr")
install.packages("XML")
library("XML")
library("dplyr")
library("rvest")
product_table <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&image-size=small&image=model&offset=0&page-size=6863")
product_category <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_type  <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_price <- product_table%>%html_nodes(".regular")%>%html_text()
product_colour <- product_table%>%html_nodes(".ng-scope+ .ng-scope .ng-scope .ng-binding , .ng-scope:nth-child(7) .product-name , .product-item:nth-child(1) .product-name .ng-binding")%>%html_text()
product_category
product_price
product_colour
a <- data.frame(product_category,product_price,product_review)
a
a <- data.frame(product_category,product_price)
a
install.packages("rvest")
install.packages("dplyr")
install.packages("XML")
install.packages("rvest")
install.packages("dplyr")
install.packages("XML")
library("XML")
library("dplyr")
library("rvest")
product_table <- read_html("https://www2.hm.com/en_ie/ladies/shop-by-product/view-all.html?sort=stock&image-size=small&image=model&offset=0&page-size=6863")
product_category <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_type  <- product_table %>%html_nodes(".item-heading .link")%>%html_text()
product_price <- product_table%>%html_nodes(".regular")%>%html_text()
product_colour <- product_table%>%html_nodes(".ng-scope+ .ng-scope .ng-scope .ng-binding , .ng-scope:nth-child(7) .product-name , .product-item:nth-child(1) .product-name .ng-binding")%>%html_text()
product_category
product_price
product_colour
a <- data.frame(product_category,product_price,product_review)
a
a <- data.frame(product_category,product_price)
a
install.packages("rvest")
library("rJava")
library("jsonlite")
library("rvest")
library("xml2")
library("rvest")
library("syuzhet")
content <- fromJSON("https://content.guardianapis.com/search?q=junk%20food%20AND%20inactive&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body", flatten=TRUE)
UnhealthyFood = as.data.frame(content)
for (i in 2:10) {
url = paste("https://content.guardianapis.com/search?q=junk%20food%20AND%20inactive&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body&pages=",i,sep="")
content <- fromJSON(url, flatten=TRUE)
tmp = as.data.frame(content)
UnhealthyFood = rbind(UnhealthyFood,tmp)
}
cleanFun <- function(htmlString) {
return(gsub("<.*?>", "", htmlString))
}
UnhealthyFood$bodyCleaned = trimws(cleanFun(UnhealthyFood$response.results.fields.body))
meta_data = as.data.frame(UnhealthyFood$response.results.webPublicationDate)
meta_data$response.results.sectionName = UnhealthyFood$response.results.sectionName
sentiment <- get_nrc_sentiment((UnhealthyFood$bodyCleaned))
meta_data$anger = sentiment$anger
meta_data$anticipation = sentiment$anticipation
meta_data$disgust = sentiment$disgust
meta_data$fear = sentiment$fear
meta_data$joy = sentiment$joy
meta_data$sadness = sentiment$sadness
meta_data$surprise = sentiment$surprise
meta_data$trust = sentiment$trust
meta_data$negative = sentiment$negative
meta_data$positive = sentiment$positive
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2010.*","2010",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate` <- gsub("2011.*","2011",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2012.*","2012",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2013.*","2013",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2014.*","2014",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2015.*","2015",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
meta_data$`UnhealthyFood$response.results.webPublicationDate`<- gsub("2016.*","2016",meta_data$`UnhealthyFood$response.results.webPublicationDate`)
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive")
meta_data$Fast_Food_id = ""
for(i in 1:620){
meta_data$Fast_Food_id[i] <- i
}
meta_data$Factor <- "Unhealthy diet and eating habits"
myvars <- c("2016")
newdata <- meta_data[myvars]
myvars <- c("2016")
newdata <- meta_data[myvars$`Year`]
newdata <- meta_data[myvars]
meta_data
newdata <- meta_data[myvars]
myvars <- c("2016", "2014")
result <- filter(meta_data, Year == 2016)
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive")
result <- filter(meta_data, Year == 2016)
meta_data[meta_data$Year == 11, ]
meta_data[meta_data$Year == 2016, ]
result <- meta_data[meta_data$Year == 2016, ]
View(result)
a <- avg(meta_data$anger)
setwd("D:/data warehouse project/final_project/Test/CSV")
result <- meta_data[meta_data$Year == 2016, ]
View(result)
View(result)
a <- result %>% group_by("Year") %>% summaise(anger1 = mean(anger,na.rm=True))
library(dplyr)
a <- result %>% group_by("Year") %>% summaise(anger1 = mean(anger,na.rm=True))
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive","Fast_Food_id","Factor")
a <- result %>% group_by("Year") %>% summaise(anger1 = mean(anger,na.rm=True))
result <- meta_data[meta_data$Year == 2016, ]
a <- result %>% group_by("Year") %>% summaise(anger1 = mean(anger,na.rm=True))
a <- result %>% group_by("Year") %>% summarise(anger1 = mean(anger,na.rm=True))
a <- result %>% group_by("Year") %>% summarise(anger1 = mean(anger,na.rm = T))
View(a)
a <- result %>% group_by("2016") %>% summarise(anger1 = mean(anger,na.rm = T))
View(a)
a <- result %>% group_by("2016") %>% summarise_each(function(mean),anger,anticipation,disgust,fear)
a <- result %>% group_by("2016") %>% summarise_each(funs(mean),anger,anticipation,disgust,fear)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),anger,anticipation,disgust,fear)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),"anger","fear")
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),anger,fear)
meta_data$Factor <- "Unhealthy diet and eating habits"
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive","Fast_Food_id","Factor")
result <- meta_data[meta_data$Year == 2016, ]
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),anger,fear)
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive","Fast_Food_id","Factor")
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),anger,fear)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),2016)
View(a)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),2016)
colnames(meta_data) <- c("Year","Section","anger","anticipation","disgust","fear","joy","sadness","surprise","trust","negative","positive","Fast_Food_id","Factor")
result <- meta_data[meta_data$Year == 2016, ]
View(result)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),anger)
a <- result %>% group_by("2016") %>% summarise_all(funs(mean),c(1:70))
View(a)
View(a)
result <- meta_data[meta_data$Year == 2016, ]
a <- result %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anger = mean(anger,na.rm = T))
View(a)
a <- result %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),disgust = mean(disgust,na.rm = T))
View(a)
a <- result %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T)))
a <- result %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
View(a)
result2016 <- meta_data[meta_data$Year == 2016, ]
a <- result2016 %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
result2015 <- meta_data[meta_data$Year == 2015, ]
a <- result2015 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
result2016 <- meta_data[meta_data$Year == 2016, ]
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
result2015 <- meta_data[meta_data$Year == 2015, ]
a2015 <- result2015 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
View(a2015)
View(a2016)
result2016 <- meta_data[meta_data$Year == 2016, ]
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(round(anger,na.rm = T)),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(round(anger),na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
View(a2016)
result2016 <- meta_data[meta_data$Year == 2016, ]
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(round(anger),na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
View(a2016)
View(a2016)
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(round(anger,digits=2),na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
View(a2016)
View(a2016)
b2016 <- round(a2016,digits=2)
x <- as.Date.numeric(a2016$`2016`)
b2016 <- round(a2016[2:11],digits=2)
View(a2016)
View(b2016)
b2016 <- round(a2016[2:11],digits=0)
View(b2016)
View(b2016)
View(b2016)
b2016$Year <- "2016"
View(b2016)
b2016$Factor <- "Unhealthy diet and eating habits"
b2016$Section <- "Food"
View(b2016)
View(b2016)
a2015 <- result2015 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
result2015 <- meta_data[meta_data$Year == 2015, ]
a2015 <- result2015 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2015 <- round(a2015[2:11],digits=0)
b2015$Year <- "2015"
b2015$Section <- "Food"
b2015$Factor <- "Unhealthy diet and eating habits"
View(b2015)
result2014 <- meta_data[meta_data$Year == 2014, ]
a2014 <- result2014 %>% group_by("2014") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2014 <- round(a2014[2:11],digits=0)
b2014$Year <- "2014"
b2014$Section <- "Food"
b2014$Factor <- "Unhealthy diet and eating habits"
View(b2014)
result2013 <- meta_data[meta_data$Year == 2013, ]
a2013 <- result2013 %>% group_by("2013") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2013 <- round(a2013[2:11],digits=0)
b2013$Year <- "2013"
b2013$Section <- "Food"
b2013$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2012 <- meta_data[meta_data$Year == 2012, ]
a2012 <- result2012 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2012 <- round(a2012[2:11],digits=0)
b2012$Year <- "2012"
b2012$Section <- "Food"
b2012$Factor <- "Unhealthy diet and eating habits"
result2016 <- meta_data[meta_data$Year == 2016, ]
a2016 <- result2016 %>% group_by("2016") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2016 <- round(a2016[2:11],digits=0)
b2016$Year <- "2016"
b2016$Section <- "Food"
b2016$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2015 <- meta_data[meta_data$Year == 2015, ]
a2015 <- result2015 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2015 <- round(a2015[2:11],digits=0)
b2015$Year <- "2015"
b2015$Section <- "Food"
b2015$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2014 <- meta_data[meta_data$Year == 2014, ]
a2014 <- result2014 %>% group_by("2014") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2014 <- round(a2014[2:11],digits=0)
b2014$Year <- "2014"
b2014$Section <- "Food"
b2014$Factor <- "Unhealthy diet and eating habits"
#---------------------------------------------------------------------------------
result2013 <- meta_data[meta_data$Year == 2013, ]
a2013 <- result2013 %>% group_by("2013") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2013 <- round(a2013[2:11],digits=0)
b2013$Year <- "2013"
b2013$Section <- "Food"
b2013$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2012 <- meta_data[meta_data$Year == 2012, ]
a2012 <- result2012 %>% group_by("2015") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2012 <- round(a2012[2:11],digits=0)
b2012$Year <- "2012"
b2012$Section <- "Food"
b2012$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2011 <- meta_data[meta_data$Year == 2011, ]
a2011 <- result2011 %>% group_by("2011") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2011 <- round(a2011[2:11],digits=0)
b2011$Year <- "2011"
b2011$Section <- "Food"
b2011$Factor <- "Unhealthy diet and eating habits"
#------------------------------------------------------------------------------
result2010 <- meta_data[meta_data$Year == 2010, ]
a2010 <- result2015 %>% group_by("2010") %>% summarise(anger = mean(anger,na.rm = T),anticipation = mean(anticipation,na.rm = T),disgust = mean(disgust,na.rm = T),fear = mean(fear,na.rm = T),joy = mean(joy,na.rm = T),sadness = mean(sadness,na.rm = T),surprise = mean(surprise,na.rm = T),trust = mean(trust,na.rm = T),negative = mean(negative,na.rm = T),positive = mean(positive,na.rm = T))
b2010 <- round(a2015[2:11],digits=0)
b2010$Year <- "2010"
b2010$Section <- "Food"
b2010$Factor <- "Unhealthy diet and eating habits"
ab <- cbind(b2010,b2011,b2012,b2013,b2014,b2015,b2016)
View(ab)
ab <- rbind(b2010,b2011,b2012,b2013,b2014,b2015,b2016)
View(ab)
for(i in 1:7){
meta_data$Fast_Food_id[i] <- i
}
for(i in 1:7){
ab$Fast_Food_id[i] <- i
}
ab$Fast_Food_id = ""
for(i in 1:7){
ab$Fast_Food_id[i] <- i
}
View(ab)
View(ab)
data <- col_name[,c(14,11,1,2,3,4,5,6,7,8,9,10,12,13)]
data <- ab[,c(14,11,1,2,3,4,5,6,7,8,9,10,12,13)]
setwd("D:/data warehouse project/final_project/Test/CSV")
View(ab)
View(data)
content <- fromJSON("https://content.guardianapis.com/search?q=junk%20food%20AND%20inactive&show-editors-picks=england&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body", flatten=TRUE)
content <- fromJSON("https://content.guardianapis.com/search?q=junk%20food%20AND%20inactive&show-editors-picks&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body", flatten=TRUE)
content <- fromJSON("https://content.guardianapis.com/search?q=junk%20food%20AND%20inactive&production-office=england&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body", flatten=TRUE)
UnhealthyFood = as.data.frame(content)
content <- fromJSON("https://content.guardianapis.com/search?q=junk%20food&production-office=england&from-date=2010-03-01&to-date=2016-08-01&section=food&api-key=4927ed6d-b166-4889-8403-a34c2331b36b&page-size=200&show-fields=body", flatten=TRUE)
UnhealthyFood = as.data.frame(content)
